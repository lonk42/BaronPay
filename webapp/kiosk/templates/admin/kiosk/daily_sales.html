{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<div class="module">
    {% if sales_data %}
        {% for day_data in sales_data %}
        <div class="module" style="margin-bottom: 30px;">
            <h2 style="background: #417690; color: white; padding: 10px; margin: 0;">
                {{ day_data.date|date:"l, F j, Y" }}
            </h2>

            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f2f2f2;">
                        <th style="padding: 10px; text-align: left; border: 1px solid #ddd;">Product</th>
                        <th style="padding: 10px; text-align: center; border: 1px solid #ddd;">Quantity Sold</th>
                        <th style="padding: 10px; text-align: right; border: 1px solid #ddd;">Revenue</th>
                    </tr>
                </thead>
                <tbody>
                    {% for product in day_data.products %}
                    <tr>
                        <td style="padding: 10px; border: 1px solid #ddd;">{{ product.name }}</td>
                        <td style="padding: 10px; text-align: center; border: 1px solid #ddd;">{{ product.count }}</td>
                        <td style="padding: 10px; text-align: right; border: 1px solid #ddd;">${{ product.revenue|floatformat:2 }}</td>
                    </tr>
                    {% endfor %}
                    <tr style="background: #f9f9f9; font-weight: bold; color: #333;">
                        <td colspan="2" style="padding: 10px; border: 1px solid #ddd; text-align: right; color: #333;">Daily Total:</td>
                        <td style="padding: 10px; text-align: right; border: 1px solid #ddd; color: #333;">${{ day_data.total|floatformat:2 }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        {% endfor %}
    {% else %}
        <p>No sales data available.</p>
    {% endif %}
</div>

<div style="margin-top: 20px;">
    <a href="{% url 'admin:index' %}" class="button">Back to Admin Home</a>
</div>

{% endblock %}
